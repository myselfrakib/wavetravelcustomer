<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Book a Ride - WaveTravel</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
  <style>
    /* Mobile-first base */
    html { font-size: 16px; }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }
    body {
      background: linear-gradient(to right,#74ebd5,#ACB6E5);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }
    .container {
      width:100%;
      max-width:600px;
      margin:0 auto;
      padding:1rem;
    }
    h1 {
      text-align:center;
      color:#fff;
      margin-bottom:1.25rem;
      font-size:1.75rem;
    }
    .form-group {
      margin-bottom:1rem;
    }
    label {
      display:block;
      font-weight:600;
      font-size:1rem;
      margin-bottom:0.5rem;
      color:#333;
    }
    select, input, button {
      width:100%;
      padding:0.75rem;
      border:none;
      border-radius:0.625rem;
      background:#f8f8f8;
      box-shadow:0 0.25rem 0.625rem rgba(0,0,0,0.1);
      font-size:1rem;
      outline:none;
    }
    button {
      background:#0077ff;
      color:#fff;
      font-weight:bold;
      cursor:pointer;
      transition:background 0.3s;
      min-height:2.75rem;
    }
    button:hover {
      background:#005dc1;
    }
    button:disabled, button[disabled] {
      background:#ccc;
      cursor:not-allowed;
    }
    .slots {
      margin-top:1.25rem;
      display:grid;
      gap:1rem;
      grid-template-columns:1fr;
    }
    .slot-card {
      background:#fff;
      padding:1rem;
      border-radius:1rem;
      box-shadow:0 0.3125rem 0.9375rem rgba(0,0,0,0.2);
      transition:transform 0.3s;
    }
    .slot-card:hover {
      transform:scale(1.03);
    }
    .navbar {
      background:#fff;
      padding:0.75rem 0;
      display:flex;
      justify-content:space-around;
      border-top-left-radius:1.25rem;
      border-top-right-radius:1.25rem;
      box-shadow:0 -0.1875rem 0.625rem rgba(0,0,0,0.1);
    }
    .navbar a {
      color:#0077ff;
      text-decoration:none;
      font-size:0.875rem;
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    .navbar a i {
      font-size:1.25rem;
      margin-bottom:0.25rem;
    }
    .no-slots {
      text-align:center;
      margin-top:1.25rem;
      background:#fff;
      padding:1rem;
      border-radius:0.625rem;
      box-shadow:0 0.25rem 0.625rem rgba(0,0,0,0.2);
      font-size:1rem;
    }

    /* Larger screens: show multiple columns */
    @media(min-width:600px) {
      .slots {
        grid-template-columns:repeat(auto-fit,minmax(14rem,1fr));
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>Book Your Ride</h1>

  <div class="form-group">
    <label for="pickup">Pickup Location</label>
    <select id="pickup"><option value="">Select Pickup</option></select>
  </div>
  <div class="form-group">
    <label for="dropoff">Dropoff Location</label>
    <select id="dropoff"><option value="">Select Dropoff</option></select>
  </div>
  <div class="form-group">
    <label for="date">Select Date</label>
    <input type="date" id="date"/>
  </div>
  <div class="form-group">
    <label for="seats">Seats Needed</label>
    <input type="number" id="seats" min="1" placeholder="Enter number of seats"/>
  </div>

  <button onclick="searchSlots()">Search Available Slots</button>
  <div class="slots" id="slots"></div>
</div>

<div class="navbar">
  <a href="home.html"><i class="fas fa-home"></i><span>Home</span></a>
  <a href="book.html"><i class="fas fa-car"></i><span>Book</span></a>
  <a href="mybookings.html"><i class="fas fa-calendar-check"></i><span>Bookings</span></a>
  <a href="profile.html"><i class="fas fa-user"></i><span>Profile</span></a>
</div>

<!-- Firebase & Razorpay -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
  // --- INIT FIREBASE ---
  const firebaseConfig = {
    apiKey: "AIzaSyDsn16p7w8b-x8pEA_WTO5F2oUk4MHwcUc",
    authDomain: "wavetravel-3c4c4.firebaseapp.com",
    databaseURL: "https://wavetravel-3c4c4-default-rtdb.firebaseio.com",
    projectId: "wavetravel-3c4c4",
    storageBucket: "wavetravel-3c4c4.appspot.com",
    messagingSenderId: "298226098137",
    appId: "1:298226098137:web:720953b80e3e61c8bc43c8"
  };
  firebase.initializeApp(firebaseConfig);

  // Elements & state
  const pickupEl   = document.getElementById('pickup');
  const dropoffEl  = document.getElementById('dropoff');
  const slotsDiv   = document.getElementById('slots');
  const seatsEl    = document.getElementById('seats');
  let locationsArr = [];

  // --- LOAD LOCATIONS & BUILD INDEX LIST ---
  function loadLocations(){
    firebase.database().ref('locations').once('value').then(snap=>{
      snap.forEach(child=>{
        const name = child.val().name;
        locationsArr.push(name);
        pickupEl .innerHTML += `<option value="${name}">${name}</option>`;
        dropoffEl.innerHTML += `<option value="${name}">${name}</option>`;
      });
    });
  }

  // rest of JS remains unchanged...
  loadLocations();
</script>
</body>
</html>
